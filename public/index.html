<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <title>Faizan Mail</title>
  </head>

  <body>
    <div class="form">
      <div class="title-div">
        <h1>Customized SOP Generator by faizan</h1>
        <p>
          Fill this questionnaire for the student. After submitting, you will
          receive an email at the email address that you have provided with a
          Statement of Purpose customized for you. You can use and modify that
          as per your needs. .
        </p>

        <p class="required">* Indicates required question</p>
      </div>

      <div class="name-div">
        <div class="name">Email<span class="required">*</span></div>
        <div class="input-div">
          <input
            type="email"
            id="email"
            name="answer"
            placeholder="Your email"
          />
          <!-- <div style="font-size:12px;">
                    
                    <p style="color:red"><img src="/public/error.svg">This is required question</p>

                </div> -->
        </div>
      </div>

      <div class="college-div">
        <div class="name">Full Name</div>
        <div class="input-div">
          <input
            type="text"
            id="name"
            name="answer"
            placeholder="Your full name"
          />
        </div>
      </div>

      <div class="gmail-div">
        <div class="name">Age<span class="required">*</span></div>
        <div class="input-div">
          <input type="text" id="age" name="answer" placeholder="Your email" />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          Highest level of education<span class="required">*</span>
        </div>
        <div class="input-div">
          <select
            name="choose"
            id="highesteducation"
            style="height: 45px; width: 30%; border-radius: 4px"
          >
            <option>Grade 12</option>
            <option>Diploma</option>
            <option>Bachelor degree</option>
            <option>Masters degree</option>
            <option>PhD</option>
          </select>
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          Institute where you completed your highest level of education<span
            class="required"
            >*</span
          >
        </div>
        <div class="input-div">
          <input
            type="input"
            id="highestedu"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          What did you study
          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="prevcourse"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          What institute did you get admitted to in Canada?

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="institute"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          What is your program of study in Canada?

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="course"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          Which country are you applying from?

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="country"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          What are your future goals?

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="future"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          English Scores - Listening

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="listening"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          English Scores - Reading

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="reading"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          English Scores - Speaking

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="speaking"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          English Scores - Writing

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="writing"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          How much tuition fee did you pay?

          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="fee"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div class="mobile-div">
        <div class="name">
          How much did you pay towards GIC?
          <span class="required">*</span>
        </div>
        <div class="input-div">
          <input
            type="input"
            id="gic"
            name="answer"
            placeholder="Your answer"
          />
        </div>
      </div>

      <div>
        <button
          style="cursor: pointer"
          class="btn"
          onclick="sendMail()"
          type="button"
          name="Submit"
        >
          <a
            style="text-decoration: none; color: white"
            href="./thanksformpage/thanksformpage.html"
            >Submit</a
          >
        </button>

        <button
          style="cursor: pointer"
          class="btn"
          onclick="generatepdf()"
          type="button"
          name="Submit"
        >
          generate pdf
        </button>
      </div>

      <div class="last-div">
        <p class="never">Never submit passwords through Faizan Forms.</p>
        <p class="term">
          This content is neither created nor endorsed by Faizan, Report Abuse -
          Term of Service - Private Policy
        </p>
        <h2>faizan Forms</h2>
      </div>
    </div>

    <script type="text/javascript">
const ans=[];

      async function sendMail() {
        // input code for name value open here
        const inputname = document.getElementById("name");
        const inputnameValue = inputname.value;
        // input code for name value close here

        // input code for email value open here
        const inputEmail = document.getElementById("email");
        const inputEmailValue = inputEmail.value;
        // input code for email value close here
        const agevalue = document.getElementById("age").value;
        const highesteduvalue = document.getElementById("highestedu").value;
        const prevcoursevlaue = document.getElementById("prevcourse").value;
        const highesteducationvalue=document.getElementById('highesteducation').value;
        const institutevalue = document.getElementById("institute").value;
        const coursevalue = document.getElementById("course").value;
        const countryvalue = document.getElementById("country").value;
        const futurevalue = document.getElementById("future").value;
        const listeningvalue = document.getElementById("listening").value;
        const readingvalue = document.getElementById("reading").value;
        const writingvalue = document.getElementById("writing").value;
        const speakingvalue = document.getElementById("speaking").value;
        const feevalue = document.getElementById("fee").value;
        const gicvalue = document.getElementById("gic").value;

        const emailData = {
          to: `${inputEmailValue}`,
          subject: `Statement of Purpose for  ${inputnameValue}`,
          text: `Dear ${inputnameValue}

Please find attched the Statement of Purpose template for your student
visa application to Canada. Kindly edit it as per your scenario and
needs.

Here is your details which you provide in form.

Full Name - ${inputnameValue}
Age- ${agevalue}
Highest education institute - ${highesteduvalue}
Studied - ${prevcoursevlaue}
Highest education - ${highesteducationvalue}
Institue Where You Want to study in canada - ${institutevalue}
Program of study in canada - ${coursevalue}
Country you are appplying from - ${countryvalue}
Future goals - ${futurevalue}
English scores in writing - ${writingvalue}
English scores in reading - ${readingvalue}
English scores in speaking - ${speakingvalue} 
English scores in listening - ${listeningvalue}
Tution Fees did you pay - ${feevalue}
Amount pay towards gic -${gicvalue}


Best Regards,
Team Faizan
www.effizient.in
Ph: 7302857877`,
        };

        try {
          const response = await fetch("/send-email", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(emailData),
          });

          if (response.ok) {
            console.log("Email sent successfully");
          } else {
            console.error("Error sending email");
          }
        } catch (error) {
          console.error("Error sending email:", error);
        }  
        
      
      }

      function generatepdf() {


        const inputname = document.getElementById("name");
        const inputnameValue = inputname.value;
        // input code for name value close here

        // input code for email value open here
        const inputEmail = document.getElementById("email");
        const inputEmailValue = inputEmail.value;
        // input code for email value close here
        const agevalue = document.getElementById("age").value;
        const highesteduvalue = document.getElementById("highestedu").value;
        const highesteducationvalue=document.getElementById('highesteducation').value;
        const prevcoursevlaue = document.getElementById("prevcourse").value;
        const institutevalue = document.getElementById("institute").value;
        const coursevalue = document.getElementById("course").value;
        const countryvalue = document.getElementById("country").value;
        const futurevalue = document.getElementById("future").value;
        const listeningvalue = document.getElementById("listening").value;
        const readingvalue = document.getElementById("reading").value;
        const writingvalue = document.getElementById("writing").value;
        const speakingvalue = document.getElementById("speaking").value;
        const feevalue = document.getElementById("fee").value;
        const gicvalue = document.getElementById("gic").value;

        const emailData = {
          to: `${inputEmailValue}`,
          subject: `Statement of Purpose for  ${inputnameValue}`,
          text: `Dear ${inputnameValue}

Please find attched the Statement of Purpose template for your student
visa application to Canada. Kindly edit it as per your scenario and
needs.

Here is your details which you provide in form.

Full Name - ${inputnameValue}
Age- ${agevalue}
Highest education institute - ${highesteduvalue}
Studied - ${prevcoursevlaue}
Highest education - ${highesteducationvalue}
Institue Where You Want to study in canada - ${institutevalue}
Program of study in canada - ${coursevalue}
Country you are appplying from - ${countryvalue}
Future goals - ${futurevalue}
English scores in writing - ${writingvalue}
English scores in reading - ${readingvalue}
English scores in speaking - ${speakingvalue} 
English scores in listening - ${listeningvalue}
Tution Fees did you pay - ${feevalue}
Amount pay towards gic -${gicvalue}


Best Regards,
Team Faizan
www.effizient.in
Ph: 7302857877`,
        };
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        doc.text(emailData.text, 10, 10);

        doc.save("newFile.pdf");
      }
    </script>
  </body>
</html>
